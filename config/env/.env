# ===================================================================
# Global Runtime Environment - Single Source of Truth (Runtime)
# Location: config/env/.env
# Note: Do NOT put image versions or build-only values here.
#       Secrets belong in config/env/.env.local (gitignored) or Docker/K8s secrets later.
# ===================================================================

# -------------------------------------------------------------------
# Runtime Profiles
# -------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=docker,keycloak

# -------------------------------------------------------------------
# Infrastructure Services - Port/Host Configuration
# -------------------------------------------------------------------
POSTGRES_DB=meldestelle

REDIS_PORT=6379

KEYCLOAK_PORT=8180
KEYCLOAK_LOG_LEVEL=INFO

CONSUL_HOST=consul
CONSUL_PORT=8500
CONSUL_ENABLED=true

ZOOKEEPER_CLIENT_PORT=2181
KAFKA_PORT=9092
KAFKA_BROKER_ID=1
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1

PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

# -------------------------------------------------------------------
# Application Services - Port/Host Configuration
# -------------------------------------------------------------------
GATEWAY_HOST=api-gateway
GATEWAY_PORT=8081

PING_SERVICE_PORT=8082
MEMBERS_SERVICE_PORT=8083
HORSES_SERVICE_PORT=8084
EVENTS_SERVICE_PORT=8085
MASTERDATA_SERVICE_PORT=8086
AUTH_SERVICE_PORT=8087
MONITORING_SERVER_PORT=8088

# -------------------------------------------------------------------
# Client Applications
# -------------------------------------------------------------------
WEB_APP_PORT=4000
WEB_APP_DOMAIN=localhost
NODE_ENV=production

NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

DESKTOP_VNC_WEB_PORT=6080
DESKTOP_VNC_PORT=5901
DESKTOP_APP_DOMAIN=localhost

# -------------------------------------------------------------------
# Security (non-secret runtime values)
# -------------------------------------------------------------------
JWT_ISSUER=meldestelle-auth-server
JWT_AUDIENCE=meldestelle-services

KEYCLOAK_REALM=meldestelle
KEYCLOAK_CLIENT_ID=api-gateway

# -------------------------------------------------------------------
# Data Storage
# -------------------------------------------------------------------
DATA_PATH=./data

# -------------------------------------------------------------------
# Development & Features
# -------------------------------------------------------------------
DEBUG=false
ENABLE_WASM=false
